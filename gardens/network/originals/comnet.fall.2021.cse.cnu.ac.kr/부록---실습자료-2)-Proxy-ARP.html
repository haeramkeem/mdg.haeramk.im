<!DOCTYPE html>
<html><head><title>부록 - 실습자료 2) Proxy ARP</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="부록 - 실습자료 2) Proxy ARP"/><meta property="og:description" content="충남대학교 컴퓨터공학과 김상하 교수님의 &amp;quot;컴퓨터 네트워크&amp;quot; 강의를 필기한 내용입니다. 다소 잘못된 내용과 구어적 표현 이 포함되어 있을 수 있습니다. Proxy ARP § 얘는 수신지가 같은 네트워크 상에 없어 라우터를 통해 다른 네트워크로 가야되는 경우에 사용하는 ARP이다 Proxy라는 것은 다른 네트워크에 있는 수신자에게 패킷을 전달해주는 역할을 하는 중간매개정도로 생각하면 된다 라우팅이랑 프록시랑 뭔차인지 좀 헷갈리긴 하는데 약간 생각해보면 라우팅이라는 것은 다른 네트워크와의 연결을 위해 라우팅 테이블이 있고 패킷이 들어왔을때 라우팅 테이블을 통해 다음에는 어디로 보내야되는지 결정하는 역할이라면 프록시는 라우팅과는 달리 패킷을 받은다음에 다음의 경로를 지정하는 것이 아닌 자신한테 연결되어있는 노드인지를 확인해 연결되어있는 노드라면 받아들이고 아니라면 기각하는 방식 - 여러개의 노드들을 대변하는 하나의 노드인 셈 말단노드가 아닌 중단노드라는 점에서 라우터와 비슷하긴 하지만 경로를 설정해 전달해주는 것이 아닌 자신한테 연결되어있는 노드들에 대해서만 패킷을 받아 전달해주는 차이점이 있는듯 따라서 프록시에 연결되어있는 노드들은 프록시를 통해 간접적으로 네트워크에 연결되어있는 셈 - 중앙 허브에서 이 각각의 노드로 직접적으로 패킷을 보내지는 못한다 쨋든 이러한 프록시 기능을 제공하는 노드를 Proxy agent라고 하고 이놈이 패킷을 받아 자신에게 연결된 노드에게 대신 전달해주는 역할을 하게 된다 Proxy ARP의 과정 § 일단 위처럼 구조가 되어있다고 해보자 실습수업에서는 약간 한 노드에서 패킷을 보내면 저 위에있는놈이 받아 각자에게 뿌려주는 방식으로 설명하긴했는데 어쨋든 만약 168."/><meta property="og:image" content="https://mdg.haeramk.im/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../../../../static/icon.png"/><meta name="description" content="충남대학교 컴퓨터공학과 김상하 교수님의 &amp;quot;컴퓨터 네트워크&amp;quot; 강의를 필기한 내용입니다. 다소 잘못된 내용과 구어적 표현 이 포함되어 있을 수 있습니다. Proxy ARP § 얘는 수신지가 같은 네트워크 상에 없어 라우터를 통해 다른 네트워크로 가야되는 경우에 사용하는 ARP이다 Proxy라는 것은 다른 네트워크에 있는 수신자에게 패킷을 전달해주는 역할을 하는 중간매개정도로 생각하면 된다 라우팅이랑 프록시랑 뭔차인지 좀 헷갈리긴 하는데 약간 생각해보면 라우팅이라는 것은 다른 네트워크와의 연결을 위해 라우팅 테이블이 있고 패킷이 들어왔을때 라우팅 테이블을 통해 다음에는 어디로 보내야되는지 결정하는 역할이라면 프록시는 라우팅과는 달리 패킷을 받은다음에 다음의 경로를 지정하는 것이 아닌 자신한테 연결되어있는 노드인지를 확인해 연결되어있는 노드라면 받아들이고 아니라면 기각하는 방식 - 여러개의 노드들을 대변하는 하나의 노드인 셈 말단노드가 아닌 중단노드라는 점에서 라우터와 비슷하긴 하지만 경로를 설정해 전달해주는 것이 아닌 자신한테 연결되어있는 노드들에 대해서만 패킷을 받아 전달해주는 차이점이 있는듯 따라서 프록시에 연결되어있는 노드들은 프록시를 통해 간접적으로 네트워크에 연결되어있는 셈 - 중앙 허브에서 이 각각의 노드로 직접적으로 패킷을 보내지는 못한다 쨋든 이러한 프록시 기능을 제공하는 노드를 Proxy agent라고 하고 이놈이 패킷을 받아 자신에게 연결된 노드에게 대신 전달해주는 역할을 하게 된다 Proxy ARP의 과정 § 일단 위처럼 구조가 되어있다고 해보자 실습수업에서는 약간 한 노드에서 패킷을 보내면 저 위에있는놈이 받아 각자에게 뿌려주는 방식으로 설명하긴했는데 어쨋든 만약 168."/><meta name="generator" content="Quartz"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link href="../../../../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Gowun Batang:wght@400;700&amp;family=Gowun Dodum:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap" rel="stylesheet" type="text/css" spa-preserve/><script src="../../../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch(`../../../../static/contentIndex.json`).then(data => data.json())</script></head><body data-slug="gardens/network/originals/comnet.fall.2021.cse.cnu.ac.kr/부록---실습자료-2)-Proxy-ARP"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title "><a href="../../../..">Madison Digital Garden</a></h1><div class="spacer mobile-only"></div><div class="search "><div id="search-icon"><p>Search</p><div></div><svg tabIndex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="results-container"></div></div></div></div><div class="darkmode "><input class="toggle" id="darkmode-toggle" type="checkbox" tabIndex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabIndex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35;" xmlSpace="preserve"><title>Light mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabIndex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'" xmlSpace="preserve"><title>Dark mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div></div><div class="center"><div class="page-header"><div class="popover-hint"><h1 class="article-title ">부록 - 실습자료 2) Proxy ARP</h1><p class="content-meta ">Jan 05, 2025, 6 min read</p></div></div><article class="popover-hint"><blockquote class="callout" data-callout="info">
<div class="callout-title">
                  <div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg></div>
                  <div class="callout-title-inner"><p>충남대학교 컴퓨터공학과 김상하 교수님의 &quot;컴퓨터 네트워크&quot; 강의를 필기한 내용입니다. </p></div>
                  
                </div>
</blockquote>
<blockquote class="callout" data-callout="warning">
<div class="callout-title">
                  <div class="callout-icon"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg></div>
                  <div class="callout-title-inner"><p>다소 잘못된 내용과 구어적 표현 이 포함되어 있을 수 있습니다. </p></div>
                  
                </div>
</blockquote>
<h2 id="proxy-arp">Proxy ARP<a aria-hidden="true" tabindex="-1" href="#proxy-arp" class="internal"> §</a></h2>
<ul>
<li>얘는 수신지가 같은 네트워크 상에 없어 라우터를 통해 다른 네트워크로 가야되는 경우에 사용하는 ARP이다</li>
<li><strong>Proxy</strong>라는 것은 다른 네트워크에 있는 수신자에게 패킷을 전달해주는 역할을 하는 중간매개정도로 생각하면 된다</li>
<li>라우팅이랑 프록시랑 뭔차인지 좀 헷갈리긴 하는데 약간 생각해보면</li>
<li>라우팅이라는 것은 다른 네트워크와의 연결을 위해 라우팅 테이블이 있고 패킷이 들어왔을때 라우팅 테이블을 통해 다음에는 어디로 보내야되는지 결정하는 역할이라면</li>
<li>프록시는 라우팅과는 달리 패킷을 받은다음에 다음의 경로를 지정하는 것이 아닌 자신한테 연결되어있는 노드인지를 확인해 연결되어있는 노드라면 받아들이고 아니라면 기각하는 방식 - 여러개의 노드들을 대변하는 하나의 노드인 셈</li>
<li>말단노드가 아닌 중단노드라는 점에서 라우터와 비슷하긴 하지만 경로를 설정해 전달해주는 것이 아닌 자신한테 연결되어있는 노드들에 대해서만 패킷을 받아 전달해주는 차이점이 있는듯</li>
<li>따라서 프록시에 연결되어있는 노드들은 프록시를 통해 간접적으로 네트워크에 연결되어있는 셈 - 중앙 허브에서 이 각각의 노드로 직접적으로 패킷을 보내지는 못한다</li>
<li>쨋든 이러한 프록시 기능을 제공하는 노드를 <strong>Proxy agent</strong>라고 하고 이놈이 패킷을 받아 자신에게 연결된 노드에게 대신 전달해주는 역할을 하게 된다</li>
</ul>
<h2 id="proxy-arp의-과정">Proxy ARP의 과정<a aria-hidden="true" tabindex="-1" href="#proxy-arp의-과정" class="internal"> §</a></h2>
<p><img src="../../../../gardens/network/originals/comnet.fall.2021.cse.cnu.ac.kr/images/prac02_8703ad94bd8a4c90acb6f5eef4ef03e7/image1.png" alt="%E1%84%89%E1%85%B5%E1%86%AF%E1%84%89%E1%85%B3%E1%86%B803%20-%20Proxy%20ARP%208703ad94bd8a4c90acb6f5eef4ef03e7/image1.png"/></p>
<ul>
<li>일단 위처럼 구조가 되어있다고 해보자</li>
<li>실습수업에서는 약간 한 노드에서 패킷을 보내면 저 위에있는놈이 받아 각자에게 뿌려주는 방식으로 설명하긴했는데 어쨋든</li>
<li>만약 168.188.129.1에서 168.188.129.130으로 패킷을 보내고 싶다고 해보자</li>
<li>그리고 168.188.129.130은 네트워크에 직접적으로 연결되어있지 않고 168.188.129.3을 프록시로 하여 간접적으로 연결되어 있음</li>
</ul>
<p><img src="../../../../gardens/network/originals/comnet.fall.2021.cse.cnu.ac.kr/images/prac02_8703ad94bd8a4c90acb6f5eef4ef03e7/image2.png" alt="%E1%84%89%E1%85%B5%E1%86%AF%E1%84%89%E1%85%B3%E1%86%B803%20-%20Proxy%20ARP%208703ad94bd8a4c90acb6f5eef4ef03e7/image2.png"/></p>
<ul>
<li>프록시를 통해 네트워크에 연결하는 것은 위의 그림처럼 구현해볼 수 있다</li>
<li>위의 그림에서 Proxy ARP Entry를 보면 일단 Interface0은 129.130의 노드 이름인 것이고</li>
<li>그다음의 168.188.129.130은 당연히 프록시를 통해 연결된 노드의 IP주소겠지</li>
<li>근데 이상한 것은 그 다음에 나오는 MAC주소는 프록시를 통해 연결된 노드(129.130)의 MAC주소가 아니라 프록시(129.3)의 MAC주소이다
<ul>
<li>이건 왜냐하면 129.130으로 보내기 위해서는 129.3으로 보내야 하기 때문에 저렇게 되어 있는 것</li>
<li>실제로는 129.130의 MAC주소는 08:00:20:81:28:BE가 아니지만 129.130을 129.3이 대변하고있기 때문에 논리적으로는 129.130의 MAC주소가 129.3의 MAC주소인 08:00:20:81:28:BE 인 것이나 다름 없다는 소리다 - 여기로 보내면 무조건 129.130으로 전달되기 때문에</li>
</ul>
</li>
</ul>
<p><img src="../../../../gardens/network/originals/comnet.fall.2021.cse.cnu.ac.kr/images/prac02_8703ad94bd8a4c90acb6f5eef4ef03e7/image3.png" alt="%E1%84%89%E1%85%B5%E1%86%AF%E1%84%89%E1%85%B3%E1%86%B803%20-%20Proxy%20ARP%208703ad94bd8a4c90acb6f5eef4ef03e7/image3.png"/></p>
<ul>
<li>쨋든 129.1에서 129.130으로 보내기 위해 위와 같은 구조로 ARP를 보내게 된다
<ul>
<li>수신 MAC주소를 broadcast로 하고 129.1의 IP와 MAC을 송신지로 넣고, 129.130의 IP를 수신지로 넣은 다음에 129.130의 MAC주소는 모르기 때문에 위 그림에 보면 ????으로 되어있다</li>
</ul>
</li>
<li>129.1이 보낸 ARP가 129.3에 도달하면 129.3은 자신에 연결된 노드들을 Proxy ARP Entry를 통해 확인해 129.130이 자신한테 연결되어있다는 것을 확인한다</li>
</ul>
<p><img src="../../../../gardens/network/originals/comnet.fall.2021.cse.cnu.ac.kr/images/prac02_8703ad94bd8a4c90acb6f5eef4ef03e7/image4.png" alt="%E1%84%89%E1%85%B5%E1%86%AF%E1%84%89%E1%85%B3%E1%86%B803%20-%20Proxy%20ARP%208703ad94bd8a4c90acb6f5eef4ef03e7/image4.png"/></p>
<ul>
<li>확인한 후에는 129.1이 자신한테 보내야 하기 때문에 자신의 MAC주소를 넣되 자신이 129.130을 대변하고 있기 때문에 129.130은 그대로 냅두고 송수신 주소를 Swapping한 후, Opcode를 2로 바꿔서 ARP Reply를 보내게 된다</li>
<li>ARP Reply를 129.1이 받은 다음에는 뭐 패킷 보내고 받고 알아서 하겠지</li>
</ul></article></div><div class="right sidebar"><div class="graph "><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xmlSpace="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[]}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#proxy-arp" data-for="proxy-arp">Proxy ARP</a></li><li class="depth-0"><a href="#proxy-arp의-과정" data-for="proxy-arp의-과정">Proxy ARP의 과정</a></li></ul></div></div><div class="backlinks "><h3>Backlinks</h3><ul class="overflow"><li><a href="../../../../gardens/network/originals/comnet.fall.2021.cse.cnu.ac.kr/(충남대)-컴퓨터-네트워크-강의록" class="internal">(충남대) 컴퓨터 네트워크 강의록</a></li><li><a href="../../../../gardens/network/originals/comnet.fall.2021.cse.cnu.ac.kr/07.-Address-mapping,-Multicasting,-Error-rep" class="internal">07. Address mapping, Multicasting, Error rep</a></li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.1.0</a>, © 2025</p><ul><li><a href="https://github.com/haeramkeem">GitHub</a></li><li><a href="www.linkedin.com/in/haeram-kim-277404220">LinkedIn</a></li><li><a href="mailto:haeram.kim1@gmail.com">Email</a></li></ul></footer></div></body><script type="application/javascript">// quartz/components/scripts/quartz/components/scripts/callout.inline.ts
function toggleCallout() {
  const outerBlock = this.parentElement;
  outerBlock.classList.toggle(`is-collapsed`);
  const collapsed = outerBlock.classList.contains(`is-collapsed`);
  const height = collapsed ? this.scrollHeight : outerBlock.scrollHeight;
  outerBlock.style.maxHeight = height + `px`;
  let current = outerBlock;
  let parent = outerBlock.parentElement;
  while (parent) {
    if (!parent.classList.contains(`callout`)) {
      return;
    }
    const collapsed2 = parent.classList.contains(`is-collapsed`);
    const height2 = collapsed2 ? parent.scrollHeight : parent.scrollHeight + current.scrollHeight;
    parent.style.maxHeight = height2 + `px`;
    current = parent;
    parent = parent.parentElement;
  }
}
function setupCallout() {
  const collapsible = document.getElementsByClassName(
    `callout is-collapsible`
  );
  for (const div of collapsible) {
    const title = div.firstElementChild;
    if (title) {
      title.removeEventListener(`click`, toggleCallout);
      title.addEventListener(`click`, toggleCallout);
      const collapsed = div.classList.contains(`is-collapsed`);
      const height = collapsed ? title.scrollHeight : div.scrollHeight;
      div.style.maxHeight = height + `px`;
    }
  }
}
document.addEventListener(`nav`, setupCallout);
window.addEventListener(`resize`, setupCallout);
</script><script type="module">
          import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
          const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
          mermaid.initialize({
            startOnLoad: false,
            securityLevel: 'loose',
            theme: darkMode ? 'dark' : 'default'
          });
          document.addEventListener('nav', async () => {
            await mermaid.run({
              querySelector: '.mermaid'
            })
          });
          </script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="https://www.googletagmanager.com/gtag/js?id=G-N68CCP1QHG" type="application/javascript"></script><script src="../../../../postscript.js" type="module"></script></html>